section#my-foods(ng-controller="FoodsCtrl as vm")
	h1 My Foods
	.accordion
		div(data-toggle="collapse", data-target="#add-food-item")
			span.glyphicon.glyphicon-plus-sign
			h2 Add A New Food Item
		.collapse#add-food-item
			form(ng-submit="vm.onSubmit()")
				formly-form(model="vm.newItem", fields="vm.newItemFields", form="vm.newItemForm")
					button.btn.btn-primary(type="submit", ng-disabled="vm.newItemForm.$invalid") Submit
	input.pull-right.form-control(type="search", id="item-search", placeholder="Search Items", ng-model="itemSearch")
	table#database-items
		tr
			th Name
			th Calories
			th Fat
			th Carbs
			th Protein
			th Sodium
			th Fiber
			th(colspan="2")
		tr(ng-repeat="item in vm.items | orderBy: 'name' | filter: itemSearch track by $index")
			td(ng-click="selectItem(item)")
				span.item-name{{item.name}} 
				span.portion {{item.portion}}
			td {{item.calories}}
			td {{item.fat}}
			td {{item.carbs}}
			td {{item.protein}}
			td {{item.sodium}}
			td {{item.fiber}}
			td.edit-item
				span.glyphicon.glyphicon-edit(ng-click="editDatabaseItem(item._id)")
			td.delete-item
				span.glyphicon.glyphicon-remove(ng-click="deleteDatabaseItem(item._id)")